<div id="toc">
<div id="toc_header">Table of Contents</div>
<ul>
<li>
<a href="#toc_0">Ficha Metodológica</a>
<ul>
<li>
<ul>
<li>
<a href="#toc_1">Nombre del Indicador:</a>
</li>
<li>
<a href="#toc_2">Definición:</a>
</li>
<li>
<a href="#toc_3">Periodo:</a>
</li>
<li>
<a href="#toc_4">Fuente:</a>
</li>
</ul>
</li>
<li>
<a href="#toc_5">Unidades:</a>
</li>
<li>
<a href="#toc_6">Interpretación:</a>
<ul>
<li>
<a href="#toc_7">Fórmula</a>
</li>
<li>
<a href="#toc_8">Desagregaciones:</a>
</li>
<li>
<a href="#toc_9">Tags:</a>
</li>
<li>
<a href="#toc_10">Código</a>
<ul>
<li>
<a href="#toc_11">Funciones de Preámbulo:</a>
</li>
<li>
<a href="#toc_12">Función del Indicador:</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>


<hr/>

<h2 id="toc_0">Ficha Metodológica</h2>

<hr/>

<h4 id="toc_1">Nombre del Indicador:</h4>

<p>Tasa específica de Nacimientos en mujeres adolescentes Edades [12-17] por 1.000 hab</p>

<hr/>

<h4 id="toc_2">Definición:</h4>

<p>La Tasa específica de Nacimientos en mujeres adolescentes Edades [12-17] por 1.000 hab es la relación del número de nacimientos en mujeres adolescentes entre 12 y 17 años de edad en un periodo de tiempo \(t\) con respecto al total de mujeres en el mismo rango de edad en el mismo periodo. El indicador incluye una subdivisión de adolescencia entre <em>Adolescencia Temprana</em> edad [12-14] y <em>Adolescencia Tardía</em> edad [15-17]. </p>

<hr/>

<h4 id="toc_3">Periodo:</h4>

<p>2013 - 2017</p>

<hr/>

<h4 id="toc_4">Fuente:</h4>

<p>Base de datos de Nacimientos
Proyecciones Poblacionales 2010-2020</p>

<hr/>

<h3 id="toc_5">Unidades:</h3>

<p>Nacimientos por cada 1.000 habitantes</p>

<hr/>

<h3 id="toc_6">Interpretación:</h3>

<p>Por cada 1.000 habitantes, un total de X nacimientos en madres adolescentes ocurrieron en el periodo t</p>

<hr/>

<h4 id="toc_7">Fórmula</h4>

<p>\[ TNA^t= \frac{\sum_{j}^{k} \sum_i^n{x_{i,j}^t}}{\sum NP^t} \]</p>

<ul>
<li><p>\(TNA^t\)    : Tasa específica de Nacimientos en mujeres adolescentes Edades [12-17] por 1.000 hab en el periodo <strong>t</strong>.</p></li>
<li><p>\(x_{i,j}^t\): Nacimiento <strong>i</strong> en la madre adolescente que se encuentra en el rango de edad <strong>j</strong> en el periodo <strong>t</strong>.</p></li>
<li><p>\(\sum NP^t\): Población total en el periodo <em>t</em>.</p></li>
<li><p>\(i\)        : Nacimiento <strong>i</strong> en madre adolescente.</p></li>
<li><p>\(j\)        : Sudivisión del rango de edad de adolescenia en grupos de edad <em>j</em> \(\epsilon\) (Adolescencia Temprana, Adolescencia                Tardía).</p></li>
</ul>

<!-- *** -->

<!-- ##### NOTA: -->

<!-- La agrupación de las causas de muertes violentas se agrupan en función de la Clasificación Estadística Internacional de Enfermedades y Problemas Relacionados con la Salud (CIE): -->

<!--   - Accidentes de Transporte Terrestre: CIE-10 (V00-V99) -->

<!--   - Otras cuasas de traumatismos accidentales: CIE-10 (W00-X59) -->

<!--   - Suicidios: CIE-10 (X60-X84) -->

<!--   - Homicidios: CIE-10 (X85-Y09) -->

<!--   - Eventos de Intención no determinada: CIE-10 (Y10-Y34) -->

<!--   - Otras muertes violentas: CIE-10 (Y35-Y98) -->

<!-- Para más detalle ver [Clasificador CIE-10](http://ais.paho.org/classifications/Chapters/pdf/Volume1.pdf) -->

<hr/>

<h4 id="toc_8">Desagregaciones:</h4>

<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 10px; width: auto !important; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">Variables de Grupo</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> Variable </th>
   <th style="text-align:left;"> Descripcion </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> g_edad </td>
   <td style="text-align:left;"> Grupos de edad ninez y adolescencia </td>
  </tr>
  <tr>
   <td style="text-align:left;"> prov_res </td>
   <td style="text-align:left;"> Provincia de residencia habitual de la madre </td>
  </tr>
  <tr>
   <td style="text-align:left;"> tiempo </td>
   <td style="text-align:left;"> Mes-anio </td>
  </tr>
</tbody>
</table>

<hr/>

<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 10px; width: auto !important; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">Grupos de niñez y adolescencia</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> Categoria </th>
   <th style="text-align:left;"> Descripcion </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Niño/a </td>
   <td style="text-align:left;"> Menor de 12 años </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Adolescencia Temprana </td>
   <td style="text-align:left;"> De 12 a 14 años </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Adolescencia Tadía </td>
   <td style="text-align:left;"> De 14 a 17 años </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Adulto </td>
   <td style="text-align:left;"> mayor o igual a 18 años </td>
  </tr>
</tbody>
</table>

<hr/>

<h4 id="toc_9">Tags:</h4>

<p><strong>Objetivos de Desarrollo Sostenible:</strong></p>

<pre><code>Objetivo 3. Salud y Bienestar
</code></pre>

<p><strong>Plan Nacional de Desarrollo:</strong></p>

<pre><code>Objetivo 1. Garantizar una vida digna con iguales oportunidades para todas las personas.
</code></pre>

<p><strong>Convención sobre los Derechos del Nino:</strong></p>

<pre><code>Artículo 24.  Los Estados Partes reconocen el derecho del niño al disfrute del más alto nivel posible de salud y a servicios para el tratamiento de las enfermedades y la rehabilitación de la salud. Los Estados Partes se esforzarán por asegurar que ningún niño sea privado de su derecho al disfrute de esos servicios sanitarios.
</code></pre>

<hr/>

<h4 id="toc_10">Código</h4>

<hr/>

<p><strong>Software:</strong> R version 3.6.1</p>

<hr/>

<p><strong>Librerias:</strong></p>

<pre><code class="r">library(purrr)
library(dplyr)
library(tidyr)
library(stringr)
library(lubridate)
library(tibble)
</code></pre>

<hr/>

<h5 id="toc_11">Funciones de Preámbulo:</h5>

<pre><code class="r"># Funciones

#Argumentos: 

#data: base de datos de Nacimientos
#varedad: variable de edad en base

g_edad_f &lt;- function(data, 
                     varedad=edad_f) {

  varedad &lt;- enquo(varedad) 

  data %&gt;% 

    mutate(g_edad=case_when(between(!!varedad, 0,11) ~ 1,
                            between(!!varedad, 12,14) ~ 2, 
                            between(!!varedad, 15,17) ~ 3, 
                            !!varedad&gt;=18 ~4), 
           g_edad=factor(x = g_edad, 
                     levels = c(1,2,3,4), 
                     labels =  c(&#39;Nino/a&#39;, 
                                 &#39;Adolesc. Temprana&#39;, 
                                 &#39;Adolesc.Tardia&#39;,
                                 &#39;Adulto/a&#39;), 
                     ordered = T), 
           g_edad=as.character(g_edad))

}

#f1. Identificacion Adolescentes
#crea la variable &#39;Adolescente&#39;

fc_adolescentes &lt;- function(data,
                            vargrupoedad=g_edad #variable resultado de funcion g_edad_f
                            ) {

  vargrupoedad &lt;- enquo(vargrupoedad)

  data %&gt;% 

    mutate(Adolescente=if_else(!!vargrupoedad %&gt;% str_detect(&#39;Adoles&#39;), 
                               T, F)
           )

  }

#f2. funcion de conteo de casos del indicador

fgrupos &lt;- 

  function(data, vars=c(), varindic=NULL) {

    if(is.null(varindic)){

    data %&gt;% group_by_at(.vars = vars) %&gt;% count() %&gt;% ungroup()

    } else {

    data %&gt;% filter_at(.vars = varindic, .vars_predicate =  all_vars(.==1)) %&gt;% 

      group_by_at(.vars = c(vars)) %&gt;% count() %&gt;% ungroup()

    }

  }

#f3. funcion que agrega los datos en funcion de las variables de agrupacion 

summarizador &lt;- function(tabla, vars=NULL, varindicad=NULL) {

  varst &lt;- c(varindicad, vars, &#39;anio_bs&#39;)


  t &lt;- tabla  %&gt;% group_by_at(.vars = varst) %&gt;% 

    summarise(casos=sum(n, na.rm = T)) %&gt;% ungroup() 

  if(!is.null(varindicad)){

    t %&gt;% 

      filter_at(.vars = varindicad, .vars_predicate = all_vars(!is.na(.)))

  }

  t
}
</code></pre>

<h5 id="toc_12">Función del Indicador:</h5>

<pre><code class="r">  #Argumentos

  #tabla  : resultado de la funcion fgrupos()
  #proyecciones  : proyecciones poblacionales 2010 - 2020
  #vars   : vector de variables de grupo en character (eg. c(&#39;var1&#39;,&#39;var2&#39;))
  #varindicad: variable del indicador creada con la funcion fc_adolescentes

f_t_nac_adolesc &lt;- function(tabla, 
                            proyecciones=proy_prov, 
                            vars=c(), varindicad=&#39;Adolescente&#39;) {


  v &lt;- str_subset(string = vars, pattern = &#39;[^tiempo]&#39;)

  t &lt;- 

    tabla %&gt;% mutate(ynac=year(tiempo)) %&gt;%

    filter(ynac&gt;=2013) %&gt;% 

    mutate(anio_bs=ynac) %&gt;% 

    summarizador(vars = v)

  den &lt;- 

    proyecciones %&gt;% 

    summarizador(vars = v)


  tf &lt;- 

    t %&gt;% left_join(y = den, by=c(v, &#39;anio_bs&#39;)) %&gt;% 

    rename(numerador=casos.x, denominador=casos.y) %&gt;% 

    mutate(indicador=numerador/denominador*1000)

  tf

  }
</code></pre>

